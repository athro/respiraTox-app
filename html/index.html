<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>respiraTox Editor</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	  
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- webbased alone version  -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.3.0/milligram.min.css">
    <link rel="stylesheet" href="https://milligram.github.io/styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="https://unpkg.com/smiles-drawer@1.0.10/dist/smiles-drawer.min.js"></script>
    <!-- <script src="https://unpkg.com/smiles-drawer@1.0.2/dist/smiles-drawer.min.js"></script> -->
    <script type="text/javascript" language="javascript" src="scripts/jsme/jsme.nocache.js"></script>
    <script type="text/javascript" language="javascript" src="scripts/kekule/kekule.min.js"></script>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script> -->
    <!-- <script src="https://unpkg.com/smiles-drawer@1.0.2/dist/smiles-drawer.min.js"></script> -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"> -->
    <!-- <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css"> -->

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script> -->
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script> -->
    <!-- <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script> -->

    <!-- stand alone version  -->
    <!-- <link rel="stylesheet" href="scripts/bootstrap/4.1.3/css/bootstrap.min.css"> -->
    <!-- <script src="scripts/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
    <!-- <script src="scripts/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script> -->
    <!-- <script src="scripts/bootstrap/4.1.3/js/bootstrap.min.js"></script> -->



     <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
     <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> -->
     <style>
      caption { 
       display: table-caption;
       caption-side: top;
       text-align: top;
       }
     </style>


      <script>
	//this function will be called after the JavaScriptApplet code has been loaded.
	// ak - which ??
      function jsmeOnLoad() {
          jsmeApplet = new JSApplet.JSME("jsme_container", "380px", "340px"); 
      }   
      </script>
     </head>
	      
  <body>
    <div class="container mt-3">
      
      <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
	<ul class="navbar-nav">
	  <li class="nav-item">
	  <a class="nav-link" data-toggle="modal" data-target="#respiraTox_homeMenu">respiraTox</a>
	  </li>
	  <li class="nav-item" >
	    <a class="nav-link" data-toggle="tab" href="#predict_page_id">Predict Compound</a>
	  </li>
	  <li class="nav-item">
	    <a class="nav-link" data-toggle="modal" data-target="#respiraTox_aboutMenu">About</a>
	  </li>
	  <!-- <li class="nav-item"> -->
	  <!--   <a class="nav-link" data-toggle="modal" data-target="#respiraTox_JSMEEditor">JSME Editor</a> -->
	  <!-- </li> -->
	 
	  <li class="nav-item">
	    <a class="nav-link" data-toggle="tab" href="#contact_page_id">Contact</a>
	  </li>
      </ul>
      </nav>
      
      <div class="tab-content">
	
	<div id="respiraTox_page_id" class="container tab-pane"><br>
	  <h3>The respiraTox Project</h3>
	  <br>
	  <p>Some text about the project</p>
	</div>

	
	<div id="about_page_id" class="container tab-pane fade"><br>
	  <h3>About this service</h3>
	  <p>This web page and corresponding server</p>
	</div>
      </div>
      
    </div>
    
 	<div id="predict_page_id" class="container tab-pane"><br>
	  <h3>Predict a Compound</h3>
	</div>
	<div class="container">
	<div>
	<div class="alert alert-primary" role="alert" style="display:block; height: 100px;" id="respiraTox_alert_id">Job information will appear here</div>
	</div>
	</div>
  
    <script>
      $(document).ready(function(){
          $('[data-toggle="tooltip"]').tooltip();
      });
     </script>
	
  <div class="container">
  <form class="form-horizontal" >
    <div class="form-group">
      <small id="cas_number_helptext" class="text-muted"><br/>Enter an arbitray ID (CAS or no CAS)</small>
      <div class="input-group mb-3">
	<div class="input-group-prepend">
	  <span class="input-group-text" id="cas_input_id"><object width="75">CAS</object></span>
	</div>
	<input id="cas_number_input_id" type="text" class="form-control" value="" placeholder="00-000" aria-label="cas_number_label" aria-describedby="cas_input_id"></input>
      </div>

      <!-- <small id="smiles_helptext" class="text-muted"><br/>Select what structure format to use and paste or enter compound</small>  -->
      <!-- <div class="input-group mb-3">  -->
      <!-- 	<div class="input-group-prepend">  -->
      <!-- 	  <span class="input-group-text" id="smiles_input_desc"><object width="75">SMILES</object></span>  -->
      <!-- 	</div>  -->
      <!-- 	<input id="smiles_input_id" type="text" class="form-control" value="" placeholder="c1(c(cccc1)CC)CCC" aria-label="smiles_label" aria-describedby="smiles_input_desc"></input> -\-> -->
      <!-- </div>  -->

      <small id="smiles_helptext" class="text-muted"><br/>Select structure format and enter or upload compound structure</small>
      <div class="input-group mb-3">
        <div class="input-group-prepend">
	  <span class="btn-group" id="basic-addon3">
	    <button type="button" class="btn input-group-text dropdown-toggle" data-toggle="dropdown"><object id="compound_format_button_id" width="60">SMILES</object></button>
	    <div class="dropdown-menu">
	      <!-- <a class="dropdown-item" href="#">SMILES <img src="./icons/111163-justicons/svg/note-interface-symbol.svg" alt="copy&paste" height="16" width="20"> </a> -->
	      <a class="dropdown-item" onclick="return select_compound_format('SMILES')"  href="#">SMILES <img src="./icons/111163-justicons/svg/note-interface-symbol.svg" alt="copy&paste" height="16" width="20"> </a>
	      <a class="dropdown-item" onclick="return select_compound_format('EDITOR')"  href="#">EDITOR <img src="./icons/111163-justicons/svg/note-interface-symbol.svg" alt="copy&paste" height="16" width="20"> </a>
	      <a class="dropdown-item" onclick="return select_compound_format('MDL')">MDL<img src="./icons/111163-justicons/svg/upload-to-internet.svg" alt="copy&paste" height="16" width="20"> </a>
	      <a class="dropdown-item" onclick="return select_compound_format('SDF')">SDF<img src="./icons/111163-justicons/svg/upload-to-internet.svg" alt="copy&paste" height="16" width="20"> </a>
	    </div>
	  </span>
	</div>
	<input id="compound_input_id_text" type="text" class="form-control" style="display:block"  value="" placeholder="c1(c(cccc1)CC)CCC" aria-label="compound_text_label" aria-describedby="smiles_input_desc"></input>
	<button id="compound_input_id_button" type="button" class="btn alert-primary" style="display:none" value="" aria-label="compound_button_label" aria-describedby="compound_button_label">Upload</button>
      </div>
      </div>

    <!-- <div class="input-group mb-3"> -->
    <!--   <small id="fingerprint_type_helptext" class="text-muted"><br/>Select fingerprint type for similarity matching</small> -->
    <!--   <div class="input-group mb-3"> -->
    <!--     <div class="input-group-prepend"> -->
    <!-- 	  <span class="btn-group" id="basic-addon3"> -->
    <!-- 	    <button type="button" class="btn input-group-text dropdown-toggle" data-toggle="dropdown"><object id="fingerprint_type_button_id" width="60">Fingerprint Type</object></button> -->
    <!-- 	    <div class="dropdown-menu"> -->
    <!-- 	      <a class="dropdown-item" onclick="return select_fingerprint_type('FP1 - 1024')">FP1 - 1024</a> -->
    <!-- 	      <a class="dropdown-item" onclick="return select_fingerprint_type ('FP2 - 2048')">FP2 - 2048</a> -->
    <!-- 	      <a class="dropdown-item" onclick="return select_fingerprint_type ('FP3 - 2048')">FP3 - 2048</a> -->
    <!-- 	    </div> -->
    <!-- 	  </span> -->
    <!-- 	</div> -->
	
    <!-- </div> -->

    <div class="input-group mb-3">
      <small id="distance_method_helptext"
      class="text-muted"><br/>Select distance similarity measures (default is Tanimoto Distance)</small>
      <div class="input-group mb-3">
	  <span class="btn-group" id="basic-addon3">
	    <button type="button" class="btn input-group-text dropdown-toggle" data-toggle="dropdown"><object id="distance_method_button_id" width="60">Distance</object></button>
	    <div class="dropdown-menu">
	      <a class="dropdown-item" onclick="return select_distance_method('Tanimoto')">Tanimoto</a>
	      <a class="dropdown-item" onclick="return select_distance_method ('Manhattan')">Manhattan</a>
	      <a class="dropdown-item" onclick="return select_distance_method ('Chebyshev')">Chebyshev</a>
	    </div>
	    <fieldset disabled>
	       <input id="distance_method_id" type="text" class="form-control" style="display:block"  value="Tanimoto" aria-label="compound_text_label" aria-describedby="smiles_input_desc"></input>
	    </fieldset>
	  </span>
	</div>
	
    </div>

      
    <div class="input-group mb-3">
      <small id="smiles_canvas_helptext" class="text-muted"><br/>Structure</small>
      <div class="canvas_class">
	<canvas id="smiles_canvas" width="250" height="150"></canvas>
      </div>
      <small id="applicabilitydomain_helptext" class="text-muted"><br/>Applicability Domain</small>
      <div class="d-flex p-3 bg-white text-black" >
        <div style="width: 150px; height: 80px; background-color: white;">
	<div class="mh-100" style="width: 25px; height: 15px; background-color: white;"></div>
	<div class="mh-100" style="width: 150px; height: 50px; background-color: white;">
	  <div class="d-flex p-3 bg-white text-muted" >
	    <div style="width: 50px; height: 80px; background-color: white;">
	      <small><div id="applicabilitydomain_display_area_id" class="mh-100" style="text-align: center; height: 20px; width: 80px; background-color: rgba(255, 255, 255,1.0);"></div></small>
	    </div>
	  </div>
	</div>
      </div>

      </div>
      <small id="prediction_helptext" class="text-muted"><br/>Prediction</small>
      <div class="d-flex p-3 bg-white text-black" >
         <div style="width: 50px; height: 80px; background-color: white;">
         <div class="mh-100" style="width: 15px; height: 15px; background-color: white;"></div>
         <div class="mh-100" id="prediction_display_area_id" style="width: 50px; height: 50px; background-color: white;"></div>
      </div>
      <div class="d-flex p-3 bg-white text-muted" >
        <div style="width: 50px; height: 80px; background-color: white;">
	<small><div class="mh-100" style="text-align: center; height: 4px; width: 80px; background-color: white"></div></small>
	<small><div class="mh-100" style="text-align: center; height: 20px; width: 80px; background-color: rgba(195,230,203,1.0);">non-irritating</div></small>
	<small><div class="mh-100" style="text-align: center; height: 20px; width: 80px; background-color: rgba(245,198,203,1.0);">irritating</div></small>
	</div>
      </div>
         <!-- <div class="p-2 bg-light" width=300 id="pred_flex">1</div> -->
      </div>
    </div>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
	<button id="smiles_submit_button_id"  type="button" class="btn btn-primary" onclick="return submit_for_prediction()" >Submit for Prediction</button>
	<button id="smiles_refresh_button_id" type="button" class="btn btn-primary"  onclick="refresh_prediction()" disabled>Refresh Jobs Status</button>
	
    </div>
  </form>
  </div>

  <div class="container">
    <table class="table table-sm table-hover table-striped table-bordered" id="neighbour_table_id" style="display:bulk" style="width:100%">
	  <caption>Neighbours</caption>
        <thead>
          <tr>
            <th style="width:3%" class="table_col_id">Rank</th>
            <th style="width:10%" class="table_col_cas">Compound Name</th>
            <th style="width:12%" class="table_col_cas">CAS</th>
            <th style="width:5%" class="table_col_distance">Similarity</th>
            <th style="width:35%" class="table_col_smiles">Compound</th>
            <th style="width:20%" class="table_col_ref">Database Reference</th>
	    <th style="width:15%" class="table_col_ref">Irritation <table><tr>
	      <td style="width: 30px; height: 15px;"><small><a href="#" data-toggle="tooltip" title="Sensory Irritation">SI</small></td>
	      <td style="width: 30px; height: 15px;"><small><a href="#" data-toggle="tooltip" title="Tissue Damage">TD</small></td>
	      <td style="width: 30px; height: 15px;"><small><a href="#" data-toggle="tooltip" title="No Irritation">NI</small></td>
	    </tr></table></th>
          </tr>
        </thead>
	<tbody id="neighbour_table_body_id">
	  <!-- <tr class="table-success"> -->
	  <!--   <th scope="row">1</th> -->
	  <!--   <td>Chemical1</td> -->
	  <!--   <td>CAS123</td> -->
	  <!--   <td>0.99</td> -->
	  <!--   <td><canvas id="canvas_nn_0" width="200" height="100" style="width: 75px; height: 75px" data-smiles="CCCCCCC"></canvas></td> -->
	  <!--   <td>DB1</td> -->
	  <!--   <td><table><tr> -->
	  <!-- 	  <td style="width: 30px; height: 30px; background-color: red;"></td> -->
	  <!-- 	  <td style="width: 30px; height: 30px; background-color: green;"></td> -->
	  <!-- 	  <td style="width: 30px; height: 30px; background-color: red;"></td> -->
	  <!--   </tr></table></td> -->
	  <!-- </tr> -->
	  <!-- <tr class="table-danger"> -->
	  <!--   <th scope="row">2</th> -->
	  <!--   <td>Chemical2</td> -->
	  <!--   <td>CAS123</td> -->
	  <!--   <td>0.8</td> -->
	  <!--   <td><canvas id="canvas_nn_1" width="200" height="100" style="width: 75px; height: 75px" data-smiles="CC[C@H]1CCC[C@H](O[C@H]2CC[C@@H]([C@@H](C)O2)N(C)C)[C@@H](C)C(=O)C2=C[C@H]3[C@@H]4C[C@@H](C[C@H]4C=C[C@H]3[C@@H]2CC(=O)O1)O[C@@H]1O[C@@H](C)[C@H](OC)[C@@H](OC)[C@H]1OC"></canvas></td> -->
	  <!--   <td>DB1</td> -->
	  <!--   <td><table><tr> -->
	  <!-- 	  <td style="width: 30px; height: 30px; background-color: green;"></td> -->
	  <!-- 	  <td style="width: 30px; height: 30px; background-color: green;"></td> -->
	  <!-- 	  <td style="width: 30px; height: 30px; background-color: red;"></td> -->
	  <!--   </tr></table></td> -->

	  <!-- </tr> -->
	</tbody>
      </table>
    </div>
    <script>
        SmilesDrawer.apply({'height':100,'width':280});
    </script>

    <script type="text/javascript" language="javascript" src="scripts/predict_script.js"></script>

    <hr>
    <address></address>
  </hr>
    </div>

    

    
    <!-- Modal respiraTox Home -->
    <div class="modal fade" id="respiraTox_homeMenu" tabindex="-1" role="dialog" aria-labelledby="respiraTox_homeMenuTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
	  <div class="modal-header">
	    <h5 class="modal-title" id="respiraTox_homeMenuTitle_id">The respiraTox project</h5>
	    <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close"> -->
	    <!-- <span aria-hidden="true">&times;</span> -->
	    <!-- </button> -->
	  </div>
	  <div class="modal-body">
	    The respiraTox project is funded by the <a href="https://www.nc3rs.org.uk">NC3Rs</a> and suported by Shell. The project partners are Fraunhofer ITEM and the University of Birmingham. 
	  </div>
	  <div class="modal-footer">
	    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
	    <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
	  </div>
	</div>
      </div>
    </div>

    <!-- Modal respiraTox About -->
    <div class="modal fade" id="respiraTox_aboutMenu" tabindex="-1" role="dialog" aria-labelledby="respiraTox_aboutMenuTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
	  <div class="modal-header">
	    <h5 class="modal-title" id="respiraTox_aboutMenuTitle_id">The respiraTox prediction service</h5>
	    <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close"> -->
	    <!-- <span aria-hidden="true">&times;</span> -->
	    <!-- </button> -->
	  </div>
	  <div class="modal-body">
	    The respiraTox prediction service has been implemented by Matthias Wehr and Andreas Karwath. The Github project can be found here: <a href="https://github.com/athro/respiraTox-app">https://github.com/athro/respiraTox-app</a>
	  </div>
	  <div class="modal-footer">
	    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
	    <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
	  </div>
	</div>
      </div>
    </div>
    <!-- Modal respiraTox JSMEEditor -->
    <div class="modal fade" id="respiraTox_JSMEEditor" tabindex="-1" role="dialog" aria-labelledby="respiraTox_JSMEEditorTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
	  <div class="modal-header">
	    <h5 class="modal-title" id="respiraTox_JSMEEditorTitle_id">JSME Editor to enter your compound</h5>
	  </div>
	  <div class="modal-body">
	    <div id="jsme_container" style="text-align: center"></div>
	  </div>
	  <div class="modal-footer">
	    <!-- <button type="button" onclick="alert(jsmeApplet.smiles())">Show SMILES</button> -->
	    <button type="button" onclick="smiles_submitted_from_editor(jsmeApplet.smiles())"  class="btn btn-secondary" data-dismiss="modal">Save as SMILES</button>
	    <button type="button" onclick="smiles_submission_from_editor_cancelled()" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
	    <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
	  </div>
	</div>
      </div>
    </div>



  
    <small id="links" class="text-muted">
      <div>Icons made by <a href="https://www.flaticon.com/authors/rami-mcmin" title="Rami McMin">Rami McMin</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>
    <div>B. Bienfait and P. Ertl, <a href="https://jcheminf.biomedcentral.com/articles/10.1186/1758-2946-5-24">JSME: a free molecule editor in JavaScript</a>, J. Cheminformatics 5:24 (2013)</div>
    <div><a href="http://doc.gdb.tools/smilesDrawer/">Smiles Drawer</a> by Reynolds Lab.</div>
    </small>
    <!-- https://www.flaticon.com/packs/justicons/3 -->
  </body>
</html>

      
